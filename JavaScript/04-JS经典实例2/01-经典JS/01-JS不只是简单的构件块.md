---
typora-copy-images-to: img\01
---

# JavaScript不只是简单的构建块

## ★前言

**➹：**[JavaScript 标准库 - JavaScript - MDN](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects)

## ★JavaScript对象、基本类型 和 字面量之间的区别

> **➹：**[javascriptcookbook/recipe1-1.js at master · ppambler/javascriptcookbook](https://github.com/ppambler/javascriptcookbook/blob/master/chap1/recipe1-1.js)

它们各自的创建方式：

字面量：

```js
var str = '我是字符串字面量'
var num = 1.45
var answer = true
```

基本类型：

```js
var str1 = String("string");
var num1 = Number(1.45);
var bool1 = Boolean(true);
```

以上两种创建姿势咩有啥区别，类型都是基本类型的，当然我们一般肯定是用字面量姿势啦！

对象：

```js
var str2 = new String("string");
var num2 = new Number(1.45);
var bool2 = new Boolean(true);
```

这种姿势跟上面那两种姿势就有区别了，因为这次得到是实例化的东西，即它们是引用类型的……而之前的则是基本类型

为此，我们可以通过全等来区分这个变量到底是直接的字面量还是对象化的字面量……

什么场景下使用？

你不需要额外的扩展功能，那就用字面量吧！如果需要，那就实例化吧！虽然字面量看起来也能使用一些api，但这似乎是隐式转化为对象的结果！

**➹：**[String - JavaScript - MDN](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String#%E5%9F%BA%E6%9C%AC%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%92%8C%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%8C%BA%E5%88%AB)

小结：

1. 目前有6种基本数据类型，其中有构造函数的有String、Number、Boolean

   ![1552190309260](img/01/1552190309260.png)

   

**➹：**[JavaScript 数据类型和数据结构 - JavaScript - MDN](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Data_structures)

## ★从一个字符串里边提取一个列表

有这样一个字符串：

```
This is a list of items: cherries, limes, oranges, apples.
//这是一份物品清单:樱桃、酸橙、桔子、苹果。
```

我想要这样的结果：

```js
['cherries','limes','oranges','apples']
```

所以请告诉我怎么做？

1. 把含有列表的子串从字符串中提取出来
2. 把子串搞成转化成数组姿势

我忘记的API用法：

1. `**indexOf()**` 方法返回调用  [`String`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/String) 对象中第一次出现的指定值的索引，开始在 fromIndex进行搜索。如果未找到该值，则返回-1。

   ```
   str.indexOf(searchValue[, fromIndex])
   //arg1:一个字符串表示被查找的值;arg2:可选，表示调用该方法的字符串中开始查找的位置。可以是任意整数。默认值为 0
   ```

2. **`substring()`** 方法返回一个字符串在**开始索引到结束索引**之间的一个子集, 或从**开始索引直到字符串的末尾的一个子集**。

   ```
   str.substring(indexStart[, indexEnd])
   //①：需要截取的第一个字符的索引，该字符作为返回的字符串的首字母
   //②：可选。一个 0 到字符串长度之间的整数，以该数字为索引的字符不包含在截取的字符串内。
   //包含给定字符串的指定部分的新字符串。
   ```

   注意：包前不包后

代码：

![1553347649943](img/01/1553347649943.png)

开头的空格和结尾的空格可以被去掉了，但是中间的空格 呢？

难到让我以逗号和空格分割吗？

```js
s.substring(start+1,end).trim().split(', ')
//["cherries", "limes", "oranges", "apples"]
```

或者遍历每个数组元素，然后对每个元素都trim一下：

![1553348380448](img/01/1553348380448.png)

能不能高级点？比如说使用正则什么的

![1553349449640](img/01/1553349449640.png)

我知道这个正则为何意，但是我不能明白的是当我们用的是字符串分割是很死的，而正则则是很动态的，如每个item之间的空格是不一致的，如果我们用字符串的话，显然每个元素的item是无法去除的，至此我们就需要用到遍历了！而正则则不然！有种把空格归一然后再分割的感觉！

如果我不使用trim的话：

```js
var str = " cherries , limes  , oranges   ,    apples   "
str.split(/^\s*|\s*,\s*|\s*$/)
//["", "cherries", "limes", "oranges", "apples", ""]
```

我很好奇数组中的空字符串元素是怎么来的！

解析一下：

我们以空格为分割符，而分割的结果的显然是没有空格的，当然你可以把这些空格（不管多少个空格）都看作是一个 类似于`￥`这样的占位符，既然如此，那就是：

```js
var str = "￥cherries￥limes￥oranges￥apples￥"
str.split('￥')
//["", "cherries", "limes", "oranges", "apples", ""]
```

由此可见，字符串的开始和结束，显然是空字符串哈！

所以，出现空字符串的原因就是：

`split`函数分隔的时候会将分隔符分隔成左右两部分。如果左边没有字符就返回空字符串，在这里我们字符串的开头的左边显然是没有字符的，既然如此那就返回空字符串呗！

**➹：**[javascript - 正则表达式应用split问题 - SegmentFault 思否](https://segmentfault.com/q/1010000008084267)

如果代码冗长，可以使用链式姿势调用！



