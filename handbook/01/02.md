# The document heading

## ★The document heading

`head` 标签包含用于**定义文档属性**的特殊标签。

那 `head` 标签写在哪儿呢？

> 它总是写在 body 标签之前，紧挨着 html 开标签的后边

``` html
<!DOCTYPE html>
<html>
  <head>
    <!-- ... -->
  </head>
  <!-- ... -->
</html>
```

我们从不在这个标签上使用任何属性，也不在其中编写任何内容

它只是一个用于容纳其它标签的容器罢了。根据你的需要，我们可以在里边放置各种各样的标签：

- `title`
- `script`
- `noscript`
- `link`
- `style`
- `base`
- `meta`

### ◇The `title` tag

`title` 标签用于确定页面的标题。标题在浏览器中显示，而这一点尤为重要，因为它是搜索引擎优化（Search Engine Optimization，SEO）的关键因素之一。

### ◇The `script` tag

该标签用于把 JS 添加到页面里边去。

你可以把 JS 代码内嵌（inline）其中，即「开标签」JS 代码「闭标签」这样子：

``` html
<script>..some JS</script>
```

或者你可以使用 `src` 属性来加载一个外部的 JavaScript 文件：

``` html
<script src="file.js"></script>
```

> 默认情况下，`type` 属性被设置为`text/javascript`，因此这是一个完全可选的属性！说白了，你写不写都行！

关于这个标签有一些非常重要的事情需要知道。

有时，在页面底部的 `</body>`标签之前使用该标签。可这是为啥呢？——这是出于对性能的考虑哈！

默认情况下，脚本的加载会阻塞页面的渲染，直到脚本被解析（parsed）、加载（loaded）结束

> 加载？下载脚本 -> 解析？脚本解析执行 -> 话说，脚本应该下载完后再去解析执行吧！ -> DOM的解析是顺序+渐进式的，即逐行解析html，然后构建DOM树，CSSOM、把不完全的renderTree直接先渲染出来，说白了「渐进式则指得是浏览器会迫不及待的将解析完成的部分显示出来」

➹：[浏览器是如何解析html的？ - 掘金](https://juejin.im/post/5c1dde33f265da61776bf49a)

通过将脚本放在页面底部，在整个页面已经被解析和加载之后，脚本才会被加载并执行，而这会给用户带来更好的体验，而不是将脚本直接搞在 `head` 标签中。

总之，我的观点是，对现在而言，这是一个糟糕的做法，即让 `script` 留在 `head`标签中。

在现代的 JavaScript 中，我们有一个替代方案，而这比让 `script` 保留在页面底部更加高效 —— `defer` 属性。 这是一个加载 `file.js` 文件的例子，相对于当前路径的URL:

``` html
<!-- 放在head里边 -->
<script defer src="file.js"></script>
```

这种方案会触发fast-loading页面，以及 fast-loading JS的快速路径

> This is the scenario that triggers the faster path to a fast-loading page, and fast-loading JavaScript.

![defer](assets/img/2020-03-27-23-56-38.png)

> 外链defer JS -> HTML解析 -> 遇到这类script标签不阻塞解析，而是会异步请求，然后把下载完毕的代码暂存到一个队列里边去 -> 等整个HTML解析完成后，再按队列的顺序执行JS

> Note： `async`属性与之类似，但在我看来，这比`defer`还要糟糕，为啥这样说呢？我在 <https://flaviocopes.com/javascript-async-defer/> 详细描述了原因！

![async](assets/img/2020-03-28-00-29-51.png)

而defer则是这样的：

![defer](assets/img/2020-03-28-00-30-31.png)

### ◇The `noscript` tag


